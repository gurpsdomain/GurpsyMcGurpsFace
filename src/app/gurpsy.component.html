<md-sidenav-container class="{{theme}}">
  <md-sidenav #sidenav>
    <gurpsy-side-navigation (onCloseSideNavigation)="sidenav.close()"
                            (onShowLibrary)="onShowLibrary($event)">
    </gurpsy-side-navigation>
  </md-sidenav>

  <md-toolbar class="flex-container">
    <button md-icon-button
            [disabled]="!readSheet"
            class="flex-item"
            (click)="sidenav.toggle()">
      <md-icon>menu</md-icon>
    </button>

    <span class="flex-item"
          fxFlex>
      {{'APPLICATION'| translate}}
    </span>

    <button md-icon-button
            class="flex-item"
            [disabled]="!readSheet"
            fxShow="true"
            fxShow.xs="false"
            *ngIf="!editMode"
            (click)="onEdit(true)">
      <md-icon>lock</md-icon>
    </button>
    <button md-icon-button
            class="flex-item editable"
            [disabled]="!readSheet"
            fxShow="true"
            fxShow.xs="false"
            *ngIf="editMode"
            (click)="onEdit(false)">
      <md-icon>lock_open</md-icon>
    </button>

    <gurpsy-avatar fxShow="false" fxShow.xs class="flex-item"></gurpsy-avatar>

    <div class="headerSettings flex-container flex-item">
      <button md-icon-button [md-menu-trigger-for]="settings">
        <md-icon>more_vert</md-icon>
      </button>
      <md-menu x-position="before" y-position="below" #settings="mdMenu">
        <button md-menu-item (click)="onNewUpdateModel()">
          <md-icon>portrait</md-icon>
          <span>{{ 'MENU.NEW' | translate }}</span>
        </button>
        <button md-menu-item (click)="onOpenSheetDialog()">
          <md-icon>account_box</md-icon>
          <span>{{ 'MENU.OPEN' | translate }}</span>
        </button>
        <button
          md-menu-item
          fxShow="false"
          fxShow.xs *ngIf="!editMode"
          (click)="onEdit(true)">
          <md-icon>lock</md-icon>
          <span>{{ 'MENU.EDIT' | translate }}</span>
        </button>
        <button
          md-menu-item
          fxShow="false"
          fxShow.xs *ngIf="editMode"
          (click)="onEdit(false)">
          <md-icon>lock_open</md-icon>
          <span>{{ 'MENU.LOCK' | translate }}</span>
        </button>
        <button md-menu-item (click)="onOpenThrowDiceDialog()">
          <md-icon svgIcon="d6"></md-icon>
          <span>{{ 'MENU.THROW_DICE' | translate }}</span>
        </button>
        <button md-menu-item (click)="onOpenSettingsDialog()">
          <md-icon>settings</md-icon>
          <span>{{ 'MENU.SETTINGS' | translate }}</span>
        </button>
        <button md-menu-item (click)="onOpenAboutDialog()">
          <md-icon svgIcon="gurpsy-face"></md-icon>
          <span>{{ 'MENU.ABOUT' | translate }}</span>
        </button>
      </md-menu>
    </div>
  </md-toolbar>

  <div *ngIf="showLibrary; else elseBlock">
    <gurpsy-book-viewer></gurpsy-book-viewer>
  </div>
  <ng-template #elseBlock>
    <div *ngIf="readSheet; else noSheet">
      <md-card>
        <gurpsy-sheet></gurpsy-sheet>
      </md-card>
    </div>
    <ng-template #noSheet>
      <div class="noSheet flex-container"
           fxLayout="column"
           fxLayoutAlign="center">
        <gurpsy-no-sheet-loaded class="flex-item"></gurpsy-no-sheet-loaded>
      </div>
    </ng-template>
  </ng-template>
</md-sidenav-container>







